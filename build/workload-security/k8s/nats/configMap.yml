---
apiVersion: v1
kind: ConfigMap
metadata:
  name: nats-config
  namespace: isecl
data:
  nats.conf: |
    pid_file: "/var/run/nats/nats.pid"
    http: 8222

    cluster {
      port: 6222
      routes [
        nats://nats-0.nats.default.svc:6222
        nats://nats-1.nats.default.svc:6222
        nats://nats-2.nats.default.svc:6222
      ]

      cluster_advertise: $CLUSTER_ADVERTISE
      connect_retries: 30
    }

    leafnodes {
      port: 7422
    }
    tls: {
      cert_file: "/etc/nats-certs/server.pem"
      key_file: "/etc/nats-certs/server.key"
    }

    // Operator "op"
    operator: eyJ0eXAiOiJKV1QiLCJhbGciOiJlZDI1NTE5LW5rZXkifQ.eyJqdGkiOiJNSE1BUFlEM1JZWllKRU5aTEg2NUhHS1RETDRaTk9SVVhSUVZGNjZNNUNUMzQ1UldJQVNBIiwiaWF0IjoxNjIxNDE5OTAxLCJpc3MiOiJPQUY1VVhWN1c3Q1EzR0hONkFOTEFIVFhHQkxMSFE3N0k0WlhUQkJMTU00T0wzSkVUMlhHWUxEVSIsIm5hbWUiOiJvcCIsInN1YiI6Ik9BRjVVWFY3VzdDUTNHSE42QU5MQUhUWEdCTExIUTc3STRaWFRCQkxNTTRPTDNKRVQyWEdZTERVIiwibmF0cyI6eyJ0eXBlIjoib3BlcmF0b3IiLCJ2ZXJzaW9uIjoyfX0.iLY1e1boL33f4hqilOst6KoBgtV4n-UaAP-Ox122mTQv72lJvV3Wrv5XROKhL7s9VWH-lOEhCK7fpVuoTh2jCA

    resolver: MEMORY

    resolver_preload: {
      // Account "isecl"
      ABUQ24HJAZ5YMI5ECFD4JSB42JGPAVJPMID242D7OSIX3EDDDFDS7X3L: eyJ0eXAiOiJKV1QiLCJhbGciOiJlZDI1NTE5LW5rZXkifQ.eyJqdGkiOiI0T0hVNExaNEJVT1hYSENKTUYyQVZGS1E0Q1ZNVzQyUFZQSlhHWElOTTdLQUtPM1Q1U0dRIiwiaWF0IjoxNjIxNDE5OTEwLCJpc3MiOiJPQUY1VVhWN1c3Q1EzR0hONkFOTEFIVFhHQkxMSFE3N0k0WlhUQkJMTU00T0wzSkVUMlhHWUxEVSIsIm5hbWUiOiJpc2VjbCIsInN1YiI6IkFCVVEyNEhKQVo1WU1JNUVDRkQ0SlNCNDJKR1BBVkpQTUlEMjQyRDdPU0lYM0VERERGRFM3WDNMIiwibmF0cyI6eyJsaW1pdHMiOnsic3VicyI6LTEsImRhdGEiOi0xLCJwYXlsb2FkIjotMSwiaW1wb3J0cyI6LTEsImV4cG9ydHMiOi0xLCJ3aWxkY2FyZHMiOnRydWUsImNvbm4iOi0xLCJsZWFmIjotMX0sImRlZmF1bHRfcGVybWlzc2lvbnMiOnsicHViIjp7fSwic3ViIjp7fX0sInR5cGUiOiJhY2NvdW50IiwidmVyc2lvbiI6Mn19.Vam5olaw298P2pvzRJqysoR-nvDcmHjXE4tqahZLsig7o3EzEqtclstkLO1njz3yeIFyiu8CkbqF85pO2vkFDQ

    }